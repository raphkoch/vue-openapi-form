import{b as n,d as p,a as u,_,o as s,h as o,F as l,i as m,j as f,g as r,k as M,t as h,l as c,v,m as y,p as S,q as b}from"./index.f821c4c4.js";const E=p({name:"SchemaModel",components:{MonacoEditor:u(()=>_(()=>import("./MonacoEditor.2e8f6e24.js").then(function(e){return e.M}),["assets/MonacoEditor.2e8f6e24.js","assets/MonacoEditor.feb26aa2.css","assets/index.f821c4c4.js","assets/index.d6734c14.css"]).then(e=>e.default))},props:{schemaModel:{type:Object,default:()=>({})}},emits:["submit"],data(){return{schema:"",model:"",formData:{},schemaError:!1,modelError:!1,labelMap:{workerType:"Worker Type",workerName:"Worker Name"}}},computed:{parsedSchema(){try{return JSON.parse(this.schema)}catch{return null}},parsedModel(){try{return JSON.parse(this.model)}catch{return null}}},watch:{schemaModel:{deep:!0,immediate:!0,handler(){this.initSchemaModel()}},schema(){this.schemaError=!1},model(){this.modelError=!1}},created(){this.initSchemaModel()},methods:{initSchemaModel(){this.schema=JSON.stringify(this.schemaModel.schema,null,2),this.model=JSON.stringify(this.schemaModel.model,null,2),this.formData={...this.schemaModel.model}},updateForm(){const e={...this.schemaModel};try{e.schema=JSON.parse(this.schema),this.schemaError=!1}catch{e.schema=this.schemaModel.schema,this.schemaError=!0}try{e.model=JSON.parse(this.model),this.modelError=!1}catch{e.model=this.schemaModel.model,this.modelError=!0}!this.schemaError&&!this.modelError&&this.$emit("submit",e)},onSchemaChange(e){typeof e=="string"&&(this.schema=e)},onModelChange(e){typeof e=="string"&&(this.model=e)}}}),k=e=>(S("data-v-5bc164c4"),e=e(),b(),e),g={class:"schema-model-wrapper mt-30"},N={key:0,class:"form-fields mt-30"},D=k(()=>r("h5",{class:"mb-15"},"Form",-1)),O=["for"],w={key:0},V=["onUpdate:modelValue"],C=["value"],J={key:1},$=["onUpdate:modelValue","id"],F={class:"buttons mt-20"};function I(e,i,U,T,B,j){return s(),o("div",g,[e.parsedSchema?(s(),o("div",N,[D,(s(!0),o(l,null,m(e.parsedSchema.properties,(d,t)=>(s(),o("div",{key:t,class:"form-field"},[r("label",{for:t},h(e.labelMap[t]||t),9,O),d.enum?(s(),o("div",w,[c(r("select",{"onUpdate:modelValue":a=>e.formData[t]=a},[(s(!0),o(l,null,m(d.enum,a=>(s(),o("option",{key:a,value:a},h(a),9,C))),128))],8,V),[[v,e.formData[t]]])])):(s(),o("div",J,[c(r("input",{type:"text","onUpdate:modelValue":a=>e.formData[t]=a,id:t},null,8,$),[[y,e.formData[t]]])]))]))),128))])):f("",!0),r("div",F,[r("button",{class:"button ac-button is-primary",onClick:i[0]||(i[0]=M(d=>e.updateForm(),["prevent"]))}," Update ")])])}var L=n(E,[["render",I],["__scopeId","data-v-5bc164c4"]]);export{L as default};
